(self["webpackChunkfinoman"]=self["webpackChunkfinoman"]||[]).push([[460],{6294:(e,t,n)=>{"use strict";n.d(t,{B:()=>l,p:()=>o});const l="/login",o="/register"},9460:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});n(71);var l=n(3673),o=n(2323),s=n(8880);const a=(0,l.HX)("data-v-e7bcf33c");(0,l.dD)("data-v-e7bcf33c");const i={key:0},r=(0,l.Wm)("h1",null,"Hi",-1),u=(0,l.Wm)("br",null,null,-1),d=(0,l.Wm)("br",null,null,-1),g=(0,l.Wm)("br",null,null,-1),c={key:1},m={key:0},h=(0,l.Wm)("br",null,null,-1),p=(0,l.Wm)("br",null,null,-1),k=(0,l.Wm)("br",null,null,-1);(0,l.Cn)();const w=a(((e,t,n,a,w,b)=>w.user?((0,l.wg)(),(0,l.j4)("div",i,[r,((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(w.secrets,(e=>((0,l.wg)(),(0,l.j4)("div",{key:e.id},[(0,l.Wm)("p",{textContent:(0,o.zw)(e.secret)},null,8,["textContent"])])))),128)),(0,l.Wm)("button",{onClick:t[1]||(t[1]=(...e)=>b.getSecrets&&b.getSecrets(...e))},"Get my secrets"),u,(0,l.Wm)("button",{onClick:t[2]||(t[2]=(...e)=>b.getToken&&b.getToken(...e))},"Get my token"),d,(0,l.wy)((0,l.Wm)("input",{type:"text",disabled:"","onUpdate:modelValue":t[3]||(t[3]=e=>w.token=e)},null,512),[[s.nr,w.token]]),g,(0,l.Wm)("button",{onClick:t[4]||(t[4]=(...e)=>b.handleLogout&&b.handleLogout(...e))},"Logout")])):((0,l.wg)(),(0,l.j4)("div",c,[e.loggedIn?((0,l.wg)(),(0,l.j4)("span",m,"Successfully logged in")):(0,l.kq)("",!0),h,(0,l.wy)((0,l.Wm)("input",{type:"email","onUpdate:modelValue":t[5]||(t[5]=e=>w.login.email=e),placeholder:"Email",name:"email"},null,512),[[s.nr,w.login.email]]),p,(0,l.wy)((0,l.Wm)("input",{type:"password","onUpdate:modelValue":t[6]||(t[6]=e=>w.login.password=e),placeholder:"Password",name:"password"},null,512),[[s.nr,w.login.password]]),k,(0,l.Wm)("button",{onClick:t[7]||(t[7]=(...e)=>b.handleLogin&&b.handleLogin(...e))},"Login")]))));var b=n(52),W=n.n(b),y=n(6294);const f={name:"Login",data(){return{secrets:[],user:null,login:{email:"",password:""},token:""}},created(){W().get("/sanctum/csrf-cookie").then((()=>{this.getUser()}))},methods:{sendForm(){!1===this.pending&&(this.pending=!0,W().post(y.B,this.form).then((()=>{this.loggedIn=!0})).catch((()=>{})).then((()=>{this.pending=!1})))},getUser(){W().get("/api/user").then((e=>{this.user=e.data}))},handleLogin(){W().post("/login",this.login).then((()=>{this.getUser()}))},getSecrets(){W().get("/api/secrets").then((e=>{this.secrets=e.data}))},getToken(){W().post("/api/tokens/create",{token_name:"My token"}).then((e=>{this.token=e.data.token}))},handleLogout(){W().post("/logout",this.login).then((()=>{this.user=null}))}}};f.render=w,f.__scopeId="data-v-e7bcf33c";const C=f}}]);