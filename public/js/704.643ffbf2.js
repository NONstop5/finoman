(self["webpackChunkquasarapp"]=self["webpackChunkquasarapp"]||[]).push([[704],{6294:(e,n,t)=>{"use strict";t.d(n,{B:()=>s,p:()=>l});const s="/login",l="/register"},704:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>f});t(71);var s=t(3673),l=t(8880);const a=(0,s.HX)("data-v-0f79720d");(0,s.dD)("data-v-0f79720d");const i={key:0},o=(0,s.Wm)("h1",null,"Hi",-1),r={key:1},d={key:0},g=(0,s.Wm)("br",null,null,-1),u=(0,s.Wm)("br",null,null,-1),c=(0,s.Wm)("br",null,null,-1);(0,s.Cn)();const p=a(((e,n,t,a,p,h)=>p.user?((0,s.wg)(),(0,s.j4)("div",i,[o,(0,s.Wm)("button",{onClick:n[1]||(n[1]=(...e)=>h.getSecrets&&h.getSecrets(...e))},"Get my secrets")])):((0,s.wg)(),(0,s.j4)("div",r,[e.loggedIn?((0,s.wg)(),(0,s.j4)("span",d,"Successfully logged in")):(0,s.kq)("",!0),g,(0,s.wy)((0,s.Wm)("input",{type:"email","onUpdate:modelValue":n[2]||(n[2]=e=>p.login.email=e),placeholder:"Email",name:"email"},null,512),[[l.nr,p.login.email]]),u,(0,s.wy)((0,s.Wm)("input",{type:"password","onUpdate:modelValue":n[3]||(n[3]=e=>p.login.password=e),placeholder:"Password",name:"password"},null,512),[[l.nr,p.login.password]]),c,(0,s.Wm)("button",{onClick:n[4]||(n[4]=(...e)=>h.handleLogin&&h.handleLogin(...e))},"Login")]))));var h=t(8598),m=t.n(h),w=t(6294);const k={name:"Login",data(){return{secrets:[],user:null,login:{email:"",password:""}}},created(){m().get("/sanctum/csrf-cookie").then((e=>{this.getUser()}))},methods:{sendForm(){!1===this.pending&&(this.pending=!0,m().post(w.B,this.form).then((e=>{this.loggedIn=!0})).catch((e=>{})).then((()=>{this.pending=!1})))},getUser(){m().get("/api/user").then((e=>{this.user=e.data}))},handleLogin(){m().post("/login",this.login).then((e=>{this.getUser()}))},getSecrets(){m().get("/api/secrets").then((e=>{this.secrets=e.data}))}}};k.render=p,k.__scopeId="data-v-0f79720d";const f=k}}]);